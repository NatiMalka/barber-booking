(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[122],{53356:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>B});var s=i(95155),n=i(12115),a=i(86266),r=i(65358),l=i(64182),o=i(54265),d=i(3951),c=i(83844),m=i(84256),x=i(83339),h=i(96082),u=i(9520),y=i(46353),j=i(43388),A=i(55857),p=i(80158),v=i(44146),g=i(15843),b=i(364),f=i(71023),T=i(29414),k=i(59869),W=i(5493),C=i(35695),P=i(55028),D=i(30832),z=i.n(D);let I=(0,P.default)(()=>Promise.all([i.e(549),i.e(646),i.e(334)]).then(i.bind(i,39334)).then(e=>e.TimePicker),{loadableGenerated:{webpack:()=>[39334]},ssr:!1}),S=["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],F=[{day:0,active:!0,startTime:z()().set("hour",9).set("minute",0),endTime:z()().set("hour",20).set("minute",0)},{day:1,active:!0,startTime:z()().set("hour",9).set("minute",0),endTime:z()().set("hour",20).set("minute",0)},{day:2,active:!0,startTime:z()().set("hour",9).set("minute",0),endTime:z()().set("hour",20).set("minute",0)},{day:3,active:!0,startTime:z()().set("hour",9).set("minute",0),endTime:z()().set("hour",20).set("minute",0)},{day:4,active:!0,startTime:z()().set("hour",8).set("minute",0),endTime:z()().set("hour",21).set("minute",0)},{day:5,active:!0,startTime:z()().set("hour",8).set("minute",0),endTime:z()().set("hour",15).set("minute",0)},{day:6,active:!1,startTime:z()().set("hour",0).set("minute",0),endTime:z()().set("hour",0).set("minute",0)}],w=[{date:"2024-04-25",name:"יום העצמאות",isWorkDay:!1},{date:"2024-05-12",name:"שעות מיוחדות",isWorkDay:!0,startTime:z()().set("hour",10).set("minute",0),endTime:z()().set("hour",14).set("minute",0)}];function B(){let e=(0,C.useRouter)(),[t,i]=(0,n.useState)(F),[P,D]=(0,n.useState)(w),[B,_]=(0,n.useState)(30),[H,E]=(0,n.useState)({date:"",name:"",isWorkDay:!1,startTime:z()().set("hour",9).set("minute",0),endTime:z()().set("hour",17).set("minute",0)}),[N,L]=(0,n.useState)(!1),[O,G]=(0,n.useState)(!1);(0,n.useEffect)(()=>{G(!0)},[]);let R=e=>{let s=[...t];s[e].active=!s[e].active,i(s)},q=(e,s,n)=>{if(n){let a=[...t];a[e][s]=n,i(a)}},J=(e,t)=>{E({...H,[e]:t})},K=e=>{let t=[...P];t.splice(e,1),D(t)};return(0,s.jsx)(a.A,{sx:{p:3,minHeight:"100vh",background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)"},children:O?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.A,{variant:"h4",component:"h1",gutterBottom:!0,sx:{textAlign:"center",mb:4,fontWeight:"bold",color:"#1e3c72"},children:"הגדרות המספרה"}),(0,s.jsxs)(l.A,{maxWidth:"lg",children:[N&&(0,s.jsx)(a.A,{component:W.P.div,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},sx:{mb:3},children:(0,s.jsx)(o.A,{severity:"success",children:"ההגדרות נשמרו בהצלחה!"})}),(0,s.jsxs)(d.Ay,{container:!0,spacing:3,children:[(0,s.jsxs)(d.Ay,{item:!0,xs:12,md:7,children:[(0,s.jsxs)(c.A,{component:W.P.div,initial:{x:-30,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:.1},sx:{p:3,mb:3},children:[(0,s.jsx)(r.A,{variant:"h6",gutterBottom:!0,children:"שעות עבודה קבועות"}),(0,s.jsx)(r.A,{variant:"body2",color:"text.secondary",paragraph:!0,children:"הגדר את שעות הפעילות הקבועות שלך לכל יום בשבוע"}),t.map((e,t)=>(0,s.jsx)(m.A,{variant:"outlined",sx:{mb:2,opacity:e.active?1:.7},children:(0,s.jsx)(x.A,{sx:{py:2},children:(0,s.jsxs)(d.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,s.jsx)(d.Ay,{item:!0,xs:12,sm:4,children:(0,s.jsx)(h.A,{control:(0,s.jsx)(u.A,{checked:e.active,onChange:()=>R(t),color:"primary"}),label:S[e.day]})}),e.active&&O&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Ay,{item:!0,xs:12,sm:4,children:(0,s.jsx)(I,{label:"שעת התחלה",value:e.startTime,onChange:e=>q(t,"startTime",e),slotProps:{textField:{fullWidth:!0,size:"small"}}})}),(0,s.jsx)(d.Ay,{item:!0,xs:12,sm:4,children:(0,s.jsx)(I,{label:"שעת סיום",value:e.endTime,onChange:e=>q(t,"endTime",e),slotProps:{textField:{fullWidth:!0,size:"small"}}})})]})]})})},t)),(0,s.jsx)(a.A,{sx:{mt:3},children:(0,s.jsxs)(r.A,{variant:"body2",color:"text.secondary",paragraph:!0,children:[(0,s.jsx)("strong",{children:"הערה:"})," ערבי חג המספרה פתוחה במתכונת ימי שישי. ימי שבת וחגים המספרה סגורה."]})})]}),(0,s.jsxs)(c.A,{component:W.P.div,initial:{x:-30,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:.2},sx:{p:3},children:[(0,s.jsx)(r.A,{variant:"h6",gutterBottom:!0,children:"הגדרות נוספות"}),(0,s.jsx)(d.Ay,{container:!0,spacing:3,children:(0,s.jsx)(d.Ay,{item:!0,xs:12,md:6,children:(0,s.jsx)(y.A,{fullWidth:!0,label:"משך תור (בדקות)",type:"number",value:B,onChange:e=>_(Number(e.target.value)),InputProps:{inputProps:{min:5,max:120,step:5}},size:"small"})})})]})]}),(0,s.jsx)(d.Ay,{item:!0,xs:12,md:5,children:(0,s.jsxs)(c.A,{component:W.P.div,initial:{x:30,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:.3},sx:{p:3},children:[(0,s.jsx)(r.A,{variant:"h6",gutterBottom:!0,children:"ימים מיוחדים"}),(0,s.jsx)(r.A,{variant:"body2",color:"text.secondary",paragraph:!0,children:"הגדר ימים מיוחדים כמו חגים או ימים עם שעות פעילות שונות"}),(0,s.jsxs)(a.A,{sx:{mb:3},children:[(0,s.jsx)(r.A,{variant:"subtitle2",gutterBottom:!0,children:"הוסף יום מיוחד"}),(0,s.jsxs)(d.Ay,{container:!0,spacing:2,children:[(0,s.jsx)(d.Ay,{item:!0,xs:12,children:(0,s.jsx)(y.A,{fullWidth:!0,size:"small",label:"תאריך",type:"date",value:H.date,onChange:e=>J("date",e.target.value),InputLabelProps:{shrink:!0}})}),(0,s.jsx)(d.Ay,{item:!0,xs:12,children:(0,s.jsx)(y.A,{fullWidth:!0,size:"small",label:"שם היום/סיבה",value:H.name,onChange:e=>J("name",e.target.value)})}),(0,s.jsx)(d.Ay,{item:!0,xs:12,children:(0,s.jsx)(h.A,{control:(0,s.jsx)(j.A,{checked:H.isWorkDay,onChange:e=>J("isWorkDay",e.target.checked)}),label:"יום עבודה (עם שעות מיוחדות)"})}),H.isWorkDay&&O&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Ay,{item:!0,xs:6,children:(0,s.jsx)(I,{label:"שעת התחלה",value:H.startTime,onChange:e=>J("startTime",e),slotProps:{textField:{fullWidth:!0,size:"small"}}})}),(0,s.jsx)(d.Ay,{item:!0,xs:6,children:(0,s.jsx)(I,{label:"שעת סיום",value:H.endTime,onChange:e=>J("endTime",e),slotProps:{textField:{fullWidth:!0,size:"small"}}})})]}),(0,s.jsx)(d.Ay,{item:!0,xs:12,children:(0,s.jsx)(A.A,{fullWidth:!0,variant:"outlined",startIcon:(0,s.jsx)(g.A,{}),onClick:()=>{H.date&&H.name&&(D([...P,{...H}]),E({date:"",name:"",isWorkDay:!1,startTime:z()().set("hour",9).set("minute",0),endTime:z()().set("hour",17).set("minute",0)}))},disabled:!H.date||!H.name,children:"הוסף"})})]})]}),(0,s.jsx)(p.A,{sx:{mb:2}}),(0,s.jsxs)(r.A,{variant:"subtitle2",gutterBottom:!0,children:["ימים מיוחדים שהוגדרו (",P.length,")"]}),0===P.length?(0,s.jsx)(r.A,{variant:"body2",color:"text.secondary",align:"center",sx:{py:2},children:"לא הוגדרו ימים מיוחדים"}):P.map((e,t)=>{var i,n;return(0,s.jsx)(m.A,{variant:"outlined",sx:{mb:2},component:W.P.div,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*t},children:(0,s.jsxs)(x.A,{sx:{py:2},children:[(0,s.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,s.jsxs)(a.A,{sx:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(b.A,{fontSize:"small",sx:{mr:1,color:e.isWorkDay?"primary.main":"error.main"}}),(0,s.jsx)(r.A,{variant:"subtitle2",children:e.name})]}),(0,s.jsx)(v.A,{size:"small",color:"error",onClick:()=>K(t),children:(0,s.jsx)(f.A,{fontSize:"small"})})]}),(0,s.jsx)(r.A,{variant:"body2",color:"text.secondary",children:new Date(e.date).toLocaleDateString("he-IL")}),e.isWorkDay&&(0,s.jsxs)(r.A,{variant:"body2",sx:{mt:1},children:["שעות: ",null===(i=e.startTime)||void 0===i?void 0:i.format("HH:mm")," - ",null===(n=e.endTime)||void 0===n?void 0:n.format("HH:mm")]})]})},t)})]})})]}),(0,s.jsxs)(a.A,{sx:{mt:4,display:"flex",justifyContent:"space-between"},children:[(0,s.jsx)(A.A,{variant:"outlined",startIcon:(0,s.jsx)(T.A,{}),onClick:()=>e.push("/admin/dashboard"),children:"חזרה ללוח הבקרה"}),(0,s.jsx)(A.A,{variant:"contained",color:"primary",startIcon:(0,s.jsx)(k.A,{}),onClick:()=>{L(!0),setTimeout(()=>L(!1),3e3)},children:"שמור הגדרות"})]})]})]}):(0,s.jsx)(a.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,s.jsx)(r.A,{children:"טוען..."})})})}},64456:(e,t,i)=>{Promise.resolve().then(i.bind(i,53356))}},e=>{var t=t=>e(e.s=t);e.O(0,[168,145,370,353,399,265,701,441,684,358],()=>t(64456)),_N_E=e.O()}]);