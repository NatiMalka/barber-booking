(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[340],{27135:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>M});var n=i(95155),s=i(12115),a=i(86266),r=i(64182),l=i(83844),d=i(65358),c=i(55857),o=i(63155),x=i(67172),h=i(85463),m=i(84350),u=i(80158),j=i(3951),A=i(46353),p=i(5451),v=i(54265),y=i(83025),b=i(86485),f=i(62410),g=i(57404),S=i(77952),C=i(9952),k=i(5493),W=i(30832),Y=i.n(W);i(29243);let H=["פרטים אישיים","בחירת תאריך ושעה","סיכום"],w={0:{start:"09:00",end:"20:00"},1:{start:"09:00",end:"20:00"},2:{start:"09:00",end:"20:00"},3:{start:"09:00",end:"20:00"},4:{start:"08:00",end:"21:00"},5:{start:"08:00",end:"15:00"},6:{start:"",end:""}};function E(){let[e,t]=(0,s.useState)(0),[i,r]=(0,s.useState)(null),[o,W]=(0,s.useState)(null),[E,M]=(0,s.useState)(1),[P,B]=(0,s.useState)("WhatsApp"),[D,N]=(0,s.useState)(""),[_,z]=(0,s.useState)(""),[q,I]=(0,s.useState)(!1),[L,O]=(0,s.useState)(!1),[R,F]=(0,s.useState)(null),T=()=>{if(!i||!o)return!0;let e=i.day();if(6===e)return F("המספרה סגורה בימי שבת"),!1;let t=o.hour(),n=o.minute(),s=w[e],[a,r]=s.start.split(":").map(Number),[l,d]=s.end.split(":").map(Number),c=60*t+n;return c<60*a+r||c>60*l+d?(F("שעות הפעילות ביום זה הן ".concat(s.start," - ").concat(s.end)),!1):(F(null),!0)};(0,s.useEffect)(()=>{i&&o&&T()},[i,o]),(0,s.useEffect)(()=>{i&&(W(null),F(null))},[i]);let $=_&&D,G=i&&o&&!R;return(0,n.jsxs)(a.A,{sx:{width:"100%",mt:4},children:[q?(0,n.jsx)(k.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:(0,n.jsxs)(l.A,{elevation:3,sx:{p:4,textAlign:"center",borderRadius:2,maxWidth:600,mx:"auto",backgroundColor:"#f9f9f9"},children:[(0,n.jsx)(f.A,{color:"success",sx:{fontSize:80,mb:2}}),(0,n.jsx)(d.A,{variant:"h4",gutterBottom:!0,children:"הבקשה נשלחה בהצלחה!"}),(0,n.jsxs)(d.A,{variant:"body1",paragraph:!0,sx:{mb:3},children:["קיבלנו את בקשתך לתור בתאריך ",null==i?void 0:i.format("DD/MM/YYYY")," בשעה ",null==o?void 0:o.format("HH:mm"),". נשלח לך אישור באמצעות ","Email"===P?"אימייל":P," בקרוב."]}),(0,n.jsx)(u.A,{sx:{my:3}}),(0,n.jsxs)(a.A,{sx:{mt:3},children:[(0,n.jsx)(d.A,{variant:"h6",gutterBottom:!0,children:"פרטי ההזמנה:"}),(0,n.jsxs)(j.Ay,{container:!0,spacing:2,sx:{textAlign:"left",mt:1},children:[(0,n.jsxs)(j.Ay,{item:!0,xs:6,children:[(0,n.jsx)(d.A,{variant:"subtitle2",children:"שם:"}),(0,n.jsx)(d.A,{variant:"body2",children:_})]}),(0,n.jsxs)(j.Ay,{item:!0,xs:6,children:[(0,n.jsx)(d.A,{variant:"subtitle2",children:"מספר מסתפרים:"}),(0,n.jsx)(d.A,{variant:"body2",children:E})]}),(0,n.jsxs)(j.Ay,{item:!0,xs:6,children:[(0,n.jsx)(d.A,{variant:"subtitle2",children:"תאריך:"}),(0,n.jsx)(d.A,{variant:"body2",children:null==i?void 0:i.format("DD/MM/YYYY")})]}),(0,n.jsxs)(j.Ay,{item:!0,xs:6,children:[(0,n.jsx)(d.A,{variant:"subtitle2",children:"שעה:"}),(0,n.jsx)(d.A,{variant:"body2",children:null==o?void 0:o.format("HH:mm")})]}),(0,n.jsxs)(j.Ay,{item:!0,xs:12,children:[(0,n.jsx)(d.A,{variant:"subtitle2",children:"פרטי התקשרות:"}),(0,n.jsx)(d.A,{variant:"body2",children:D})]})]})]}),(0,n.jsx)(c.A,{variant:"contained",color:"primary",onClick:()=>{t(0),r(null),W(null),M(1),B("WhatsApp"),N(""),z(""),I(!1)},sx:{mt:4},children:"הזמנה חדשה"})]})}):(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),I(!0),O(!0)},children:[(0,n.jsx)(x.A,{activeStep:e,alternativeLabel:!0,sx:{mb:4},children:H.map(e=>(0,n.jsx)(h.A,{children:(0,n.jsx)(m.A,{children:e})},e))}),(0,n.jsxs)(l.A,{elevation:3,sx:{p:3,mb:3},children:[0===e&&(0,n.jsxs)(k.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,n.jsx)(d.A,{variant:"h6",gutterBottom:!0,align:"center",children:"פרטים אישיים"}),(0,n.jsx)(u.A,{sx:{mb:3}}),(0,n.jsxs)(j.Ay,{container:!0,spacing:3,children:[(0,n.jsx)(j.Ay,{item:!0,xs:12,children:(0,n.jsx)(A.A,{id:"name",name:"name",label:"שם מלא",fullWidth:!0,required:!0,value:_,onChange:e=>z(e.target.value)})}),(0,n.jsx)(j.Ay,{item:!0,xs:12,children:(0,n.jsx)(A.A,{id:"people-count",name:"people-count",label:"מספר מסתפרים",type:"number",fullWidth:!0,InputProps:{inputProps:{min:1,max:10}},value:E,onChange:e=>M(parseInt(e.target.value))})}),(0,n.jsx)(j.Ay,{item:!0,xs:12,children:(0,n.jsxs)(A.A,{id:"notification-method",name:"notification-method",select:!0,label:"שיטת התראה מועדפת",fullWidth:!0,value:P,onChange:e=>B(e.target.value),children:[(0,n.jsx)(p.A,{value:"WhatsApp",children:"WhatsApp"}),(0,n.jsx)(p.A,{value:"SMS",children:"SMS"}),(0,n.jsx)(p.A,{value:"Email",children:"אימייל"})]})}),(0,n.jsx)(j.Ay,{item:!0,xs:12,children:(0,n.jsx)(A.A,{id:"contact-info",name:"contact-info",label:"Email"===P?"כתובת אימייל":"מספר טלפון",fullWidth:!0,required:!0,value:D,onChange:e=>N(e.target.value)})})]})]}),1===e&&(0,n.jsxs)(k.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,n.jsx)(d.A,{variant:"h6",gutterBottom:!0,align:"center",children:"בחירת תאריך ושעה"}),(0,n.jsx)(u.A,{sx:{mb:3}}),(0,n.jsxs)(j.Ay,{container:!0,spacing:3,children:[(0,n.jsx)(j.Ay,{item:!0,xs:12,children:(0,n.jsx)(S.$,{dateAdapter:C.R,adapterLocale:"he",children:(0,n.jsx)(g.l,{label:"תאריך",value:i,onChange:e=>r(e),disablePast:!0,sx:{width:"100%"},slotProps:{textField:{id:"booking-date",name:"booking-date",required:!0,helperText:"בחר תאריך לתור"}}})})}),i&&(0,n.jsxs)(j.Ay,{item:!0,xs:12,children:[(0,n.jsx)(d.A,{variant:"subtitle1",gutterBottom:!0,children:"בחר שעה:"}),6===i.day()?(0,n.jsx)(v.A,{severity:"info",sx:{mb:2},children:"המספרה סגורה בימי שבת"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["שעות פעילות ביום ",["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"][i.day()],":",w[i.day()].start," -",w[i.day()].end]}),(0,n.jsx)(a.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,mt:2},children:(e=>{if(6===e)return[];let t=w[e],[i,n]=t.start.split(":").map(Number),[s,a]=t.end.split(":").map(Number),r=60*i+n,l=60*s+a,d=[];for(let e=r;e<=l-30;e+=30){let t=Math.floor(e/60),i=e%60;d.push("".concat(t.toString().padStart(2,"0"),":").concat(i.toString().padStart(2,"0")))}return d})(i.day()).map(e=>(0,n.jsx)(c.A,{variant:o&&o.format("HH:mm")===e?"contained":"outlined",color:"primary",onClick:()=>{let[t,i]=e.split(":").map(Number);W(Y()().hour(t).minute(i)),F(null)},sx:{minWidth:"80px"},children:e},e))})]}),R&&(0,n.jsx)(y.A,{error:!0,children:R})]})]})]}),2===e&&(0,n.jsxs)(k.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,n.jsx)(d.A,{variant:"h6",gutterBottom:!0,align:"center",children:"סיכום הזמנה"}),(0,n.jsx)(u.A,{sx:{mb:3}}),(0,n.jsxs)(j.Ay,{container:!0,spacing:2,children:[(0,n.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,n.jsx)(d.A,{variant:"subtitle1",children:"שם:"}),(0,n.jsx)(d.A,{variant:"body1",children:_})]}),(0,n.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,n.jsx)(d.A,{variant:"subtitle1",children:"מספר מסתפרים:"}),(0,n.jsx)(d.A,{variant:"body1",children:E})]}),(0,n.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,n.jsx)(d.A,{variant:"subtitle1",children:"תאריך:"}),(0,n.jsx)(d.A,{variant:"body1",children:null==i?void 0:i.format("DD/MM/YYYY")})]}),(0,n.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,n.jsx)(d.A,{variant:"subtitle1",children:"שעה:"}),(0,n.jsx)(d.A,{variant:"body1",children:null==o?void 0:o.format("HH:mm")})]}),(0,n.jsxs)(j.Ay,{item:!0,xs:12,children:[(0,n.jsx)(d.A,{variant:"subtitle1",children:"פרטי התקשרות:"}),(0,n.jsxs)(d.A,{variant:"body1",children:[D," (",P,")"]})]})]})]})]}),(0,n.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[(0,n.jsx)(c.A,{disabled:0===e,onClick:()=>{t(e=>e-1)},sx:{mr:1},children:"חזרה"}),(0,n.jsx)(a.A,{children:e===H.length-1?(0,n.jsx)(c.A,{variant:"contained",color:"primary",type:"submit",disabled:!$||!G,children:"שליחת בקשה"}):(0,n.jsx)(c.A,{variant:"contained",color:"primary",onClick:()=>{(1!==e||T())&&t(e=>e+1)},disabled:0===e?!$:!G,children:"המשך"})})]})]}),(0,n.jsx)(b.A,{open:L,autoHideDuration:6e3,onClose:()=>O(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,n.jsx)(v.A,{onClose:()=>O(!1),severity:"success",sx:{width:"100%"},children:"הבקשה נשלחה בהצלחה!"})})]})}function M(){let[e,t]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{t(!0)},[]),e)?(0,n.jsx)(a.A,{sx:{minHeight:"100vh",py:4,background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)"},children:(0,n.jsxs)(r.A,{maxWidth:"md",children:[(0,n.jsxs)(l.A,{elevation:3,sx:{p:4,borderRadius:2},children:[(0,n.jsxs)(a.A,{sx:{textAlign:"center",mb:4},children:[(0,n.jsx)(d.A,{variant:"h4",component:"h1",gutterBottom:!0,children:"מספרת בר ארזי"}),(0,n.jsxs)(d.A,{variant:"h6",sx:{display:"flex",alignItems:"center",justifyContent:"center",color:"text.secondary"},children:[(0,n.jsx)(o.A,{sx:{mr:1,transform:"rotate(90deg)",fontSize:"1rem"}}),"הזמנת תור",(0,n.jsx)(o.A,{sx:{ml:1,transform:"rotate(-90deg)",fontSize:"1rem"}})]})]}),(0,n.jsx)(E,{})]}),(0,n.jsx)(a.A,{mt:4,textAlign:"center",children:(0,n.jsx)(c.A,{variant:"outlined",onClick:()=>window.location.href="/",sx:{mx:1},children:"חזור לדף הבית"})})]})}):(0,n.jsx)("div",{style:{visibility:"hidden"},children:"Loading..."})}},90901:(e,t,i)=>{Promise.resolve().then(i.bind(i,27135))}},e=>{var t=t=>e(e.s=t);e.O(0,[168,145,370,353,399,549,265,646,936,827,147,441,684,358],()=>t(90901)),_N_E=e.O()}]);